---
id: sdk_nodejs_index
title: Node / Javascript SDK
---

:::caution
The SDK code and documetnation are in ALPHA state and are under heavy development. As a result, the apis are still in
flux, and the documentation may be out of date with the code.
:::

Emoji ID is a directory service that associates almost
            any type of structured data with a short, memorable identifier the emoji id.

This SDK is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) project:

- API version: 0.1.33
- Package version: 0.1.33
- Build package: org.openapitools.codegen.languages.JavascriptClientCodegen

## Installation

### For [Node.js](https://nodejs.org/)

#### npm

```shell
npm install yatjs --save
```

Finally, you need to build the module:

```shell
npm run build
```

### For browser

The library also works in the browser environment via npm and [browserify](http://browserify.org/). After following
the above steps with Node.js and installing browserify with `npm install -g browserify`,
perform the following (assuming *main.js* is your entry file):

```shell
browserify main.js > bundle.js
```

Then include *bundle.js* in the HTML pages.

### Webpack Configuration

Using Webpack you may encounter the following error: "Module not found: Error: Cannot resolve module". In this case you should disable AMD loader. Add/merge
the following section to your webpack config:

```javascript
module: {
  rules: [
    {
      parser: {
        amd: false
      }
    }
  ]
}
```

## Getting Started

Please follow the [installation](#installation) instruction and execute the following JS code:

```javascript
const yat = require('yatjs');
const api = new yat.YatJs();

async function runDemo() {
    console.log(`Yat API calls will be made to ${api.basePath}`);
    api.basePath = 'https://y.at/api;
    console.log(`Changed base path. Now Yat API calls will be made to ${api.basePath}`);
    try {
        let res = await api.login("bob@example.com", "wrong_password");
        console.log("Logged in (Should not see this): ", res);
    } catch (res) {
        console.log(`Could not log in: ${res.error}`);
        try {
            await api.users().getAccount(); // Not logged in, should throw an error
        } catch (res) {
            console.log(`Cannot access account: ${res.error}`);
        }
    }
    try {
        await api.login("test@tari.com", "real_password");
        console.log("Logged in.");
        let account = await api.users().getAccount();
        console.log("Account data:", account);
    } catch (res) {
        console.log(`Could not log in: ${res.error}`);
    }
}

runDemo()
    .then(() => console.log("Bye"))
    .catch(console.error);
```

## Documentation for API Endpoints

Once you have a YatJs instance, all the sub-APIs are accessed through getters, for example, the cart api is available as
`yat.cart()`. A full list of sub-APIs and their methods is:


API accessor | Method |  Description
------------ | ------------- | -------------
cart() | [**add**](docs/CartApi.md#add) | Update cart items by adding new items to the cart
cart() | [**checkout**](docs/CartApi.md#checkout) | Checkout cart with provided payment details
cart() | [**clear**](docs/CartApi.md#clear) | Remove all items from cart
cart() | [**getItems**](docs/CartApi.md#getItems) | Return cart content
cart() | [**replaceItems**](docs/CartApi.md#replaceItems) | Replace cart items
emoji() | [**edit**](docs/EmojiApi.md#edit) | Edit EmojiId
emoji() | [**list**](docs/EmojiApi.md#list) | List emojis
emoji() | [**lookup**](docs/EmojiApi.md#lookup) | Lookup EmojiId
emoji() | [**search**](docs/EmojiApi.md#search) | Search for EmojiID
keyManagement() | [**addPubkey**](docs/KeyManagementApi.md#addPubkey) | Add pubkey for current user
keyManagement() | [**addPubkeyForUser**](docs/KeyManagementApi.md#addPubkeyForUser) | Add pubkey for user by user_id
keyManagement() | [**createWallet**](docs/KeyManagementApi.md#createWallet) | Generate custodial wallet
keyManagement() | [**getPubkeys**](docs/KeyManagementApi.md#getPubkeys) | Retrieve pubkeys
keyManagement() | [**getPubkeysForUser**](docs/KeyManagementApi.md#getPubkeysForUser) | Retrieve pubkeys by user_id
proxy() | [**callProxy**](docs/ProxyApi.md#callProxy) | Calls a pre-defined proxy service with the provided data
userAuthentication() | [**login**](docs/UserAuthenticationApi.md#login) | Login via password
userAuthentication() | [**magicLinkLogin**](docs/UserAuthenticationApi.md#magicLinkLogin) | Generate magic link for login
userAuthentication() | [**refreshToken**](docs/UserAuthenticationApi.md#refreshToken) | Refreshes access token
userAuthentication() | [**twoFactorAuthentication**](docs/UserAuthenticationApi.md#twoFactorAuthentication) | Two factor authentication
userInterest() | [**deleteUserInterest**](docs/UserInterestApi.md#deleteUserInterest) | Destroys the user interest preventing this eid&#39;s notification emails from being sent for this user
userInterest() | [**getInterestedUsers**](docs/UserInterestApi.md#getInterestedUsers) | Returns a paginated list of user interest records associated with the user
userInterest() | [**getUserInterestForYat**](docs/UserInterestApi.md#getUserInterestForYat) | Given an EmojiId returns information about the user interest if a record exists for this user
userInterest() | [**registerInterest**](docs/UserInterestApi.md#registerInterest) | Create new interest in emoji to be notified when available
users() | [**callDelete**](docs/UsersApi.md#callDelete) | Delete a user
users() | [**createUser**](docs/UsersApi.md#createUser) | Register a User
users() | [**getAccount**](docs/UsersApi.md#getAccount) | Current user account
users() | [**getAllUsers**](docs/UsersApi.md#getAllUsers) | List users
users() | [**update**](docs/UsersApi.md#update) | Update the currently logged in user
users() | [**updateUser**](docs/UsersApi.md#updateUser) | Update a user as an admin


## Documentation for Models


### AdminUpdateUserParameters

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**userParameters** | [**AdminUpdateUserParametersUserParameters**](#AdminUpdateUserParametersUserParameters) |  | 
**freeLimit** | **Number** | Optional: Free limit for how many yats the user may purchase | [optional] 
**isActive** | **Boolean** | Optional: If the user is active, updating to true triggers user activation related events | [optional] 


### AdminUpdateUserParametersUserParameters

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**email** | **String** | Optional: Email | [optional] 
**firstName** | **String** | Optional: First name | [optional] 
**lastName** | **String** | Optional: Last name | [optional] 


### CheckoutCartRequest

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**method** | **String** | Payment method | 
**pubkey** | **String** | Optional: user public key | [optional] 
**trackingData** | **Object** | Optional: tracking data | [optional] 



### Enum: MethodEnum


* `Default` (value: `"Default"`)

* `Free` (value: `"Free"`)




### Confirm2Fa

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**code** | **String** | Two factor authentication code | 
**refreshToken** | **String** | Refresh token obtained from login request | 


### CurrentUser

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**globalScopes** | **[String]** | A list of fine-grained permissions the user may perform. | 
**organizationRoles** | **{String: String}** | The role this user has in each organisation. Organisations are currently not used, but are reserved for  future operations. | 
**organizationScopes** | **{String: [String]}** | The scopes that are granted to this user for each organisation. Organisations are currently not used, but are  reserved for future operations. | 
**pubkeys** | **[String]** | A list of this user&#39;s public keys. When yats are deployed to the blockchain, users prove ownership of their  Yats with digital signatures, proving knowledge of the private keys that \&quot;own\&quot; the yat. In the centralised  implementation of Yat, the server will custody the users&#39; wallets and private keys, but in other respects the  ownership model is the same. | 
**role** | **String** | The role assigned to this user. Roles grant authority to user accounts to perform certain actions. | 
**user** | [**CurrentUserUser**](#CurrentUserUser) |  | 



### Enum: [GlobalScopesEnum]


* `AdminEmojiRegister` (value: `"AdminEmojiRegister"`)

* `AdminEmojiWrite` (value: `"AdminEmojiWrite"`)

* `CartShow` (value: `"CartShow"`)

* `CartUpdate` (value: `"CartUpdate"`)

* `CodeDelete` (value: `"CodeDelete"`)

* `CodeRead` (value: `"CodeRead"`)

* `CodeWrite` (value: `"CodeWrite"`)

* `EmojiGroupsDelete` (value: `"EmojiGroupsDelete"`)

* `EmojiGroupsRead` (value: `"EmojiGroupsRead"`)

* `EmojiGroupsWrite` (value: `"EmojiGroupsWrite"`)

* `OrderRead` (value: `"OrderRead"`)

* `OrderReadSelf` (value: `"OrderReadSelf"`)

* `OrderRefund` (value: `"OrderRefund"`)

* `OrderRefundOverride` (value: `"OrderRefundOverride"`)

* `OrderResendConfirmation` (value: `"OrderResendConfirmation"`)

* `OrganizationAdmin` (value: `"OrganizationAdmin"`)

* `OrganizationEmojiList` (value: `"OrganizationEmojiList"`)

* `OrganizationEmojiWrite` (value: `"OrganizationEmojiWrite"`)

* `OrganizationListRead` (value: `"OrganizationListRead"`)

* `OrganizationRead` (value: `"OrganizationRead"`)

* `OrganizationUserAdmin` (value: `"OrganizationUserAdmin"`)

* `OrganizationUserRead` (value: `"OrganizationUserRead"`)

* `OrganizationWrite` (value: `"OrganizationWrite"`)

* `PaymentMethodDestroy` (value: `"PaymentMethodDestroy"`)

* `PaymentMethodRead` (value: `"PaymentMethodRead"`)

* `PaymentMethodSetDefault` (value: `"PaymentMethodSetDefault"`)

* `RefundRead` (value: `"RefundRead"`)

* `TokenRefresh` (value: `"TokenRefresh"`)

* `TwoFactorAuth` (value: `"TwoFactorAuth"`)

* `UserDelete` (value: `"UserDelete"`)

* `UserDeleteSelf` (value: `"UserDeleteSelf"`)

* `UserEmojiList` (value: `"UserEmojiList"`)

* `UserInterestDelete` (value: `"UserInterestDelete"`)

* `UserInterestRead` (value: `"UserInterestRead"`)

* `UserInterestWrite` (value: `"UserInterestWrite"`)

* `UserList` (value: `"UserList"`)

* `UserPubkeyList` (value: `"UserPubkeyList"`)

* `UserPubkeyWrite` (value: `"UserPubkeyWrite"`)

* `UserWrite` (value: `"UserWrite"`)

* `UserWriteSelf` (value: `"UserWriteSelf"`)





### Enum: {String: String}


* `Admin` (value: `"Admin"`)

* `OrgController` (value: `"OrgController"`)

* `OrgMember` (value: `"OrgMember"`)

* `OrgOwner` (value: `"OrgOwner"`)

* `Super` (value: `"Super"`)

* `User` (value: `"User"`)





### Enum: {String: [String]}


* `AdminEmojiRegister` (value: `"AdminEmojiRegister"`)

* `AdminEmojiWrite` (value: `"AdminEmojiWrite"`)

* `CartShow` (value: `"CartShow"`)

* `CartUpdate` (value: `"CartUpdate"`)

* `CodeDelete` (value: `"CodeDelete"`)

* `CodeRead` (value: `"CodeRead"`)

* `CodeWrite` (value: `"CodeWrite"`)

* `EmojiGroupsDelete` (value: `"EmojiGroupsDelete"`)

* `EmojiGroupsRead` (value: `"EmojiGroupsRead"`)

* `EmojiGroupsWrite` (value: `"EmojiGroupsWrite"`)

* `OrderRead` (value: `"OrderRead"`)

* `OrderReadSelf` (value: `"OrderReadSelf"`)

* `OrderRefund` (value: `"OrderRefund"`)

* `OrderRefundOverride` (value: `"OrderRefundOverride"`)

* `OrderResendConfirmation` (value: `"OrderResendConfirmation"`)

* `OrganizationAdmin` (value: `"OrganizationAdmin"`)

* `OrganizationEmojiList` (value: `"OrganizationEmojiList"`)

* `OrganizationEmojiWrite` (value: `"OrganizationEmojiWrite"`)

* `OrganizationListRead` (value: `"OrganizationListRead"`)

* `OrganizationRead` (value: `"OrganizationRead"`)

* `OrganizationUserAdmin` (value: `"OrganizationUserAdmin"`)

* `OrganizationUserRead` (value: `"OrganizationUserRead"`)

* `OrganizationWrite` (value: `"OrganizationWrite"`)

* `PaymentMethodDestroy` (value: `"PaymentMethodDestroy"`)

* `PaymentMethodRead` (value: `"PaymentMethodRead"`)

* `PaymentMethodSetDefault` (value: `"PaymentMethodSetDefault"`)

* `RefundRead` (value: `"RefundRead"`)

* `TokenRefresh` (value: `"TokenRefresh"`)

* `TwoFactorAuth` (value: `"TwoFactorAuth"`)

* `UserDelete` (value: `"UserDelete"`)

* `UserDeleteSelf` (value: `"UserDeleteSelf"`)

* `UserEmojiList` (value: `"UserEmojiList"`)

* `UserInterestDelete` (value: `"UserInterestDelete"`)

* `UserInterestRead` (value: `"UserInterestRead"`)

* `UserInterestWrite` (value: `"UserInterestWrite"`)

* `UserList` (value: `"UserList"`)

* `UserPubkeyList` (value: `"UserPubkeyList"`)

* `UserPubkeyWrite` (value: `"UserPubkeyWrite"`)

* `UserWrite` (value: `"UserWrite"`)

* `UserWriteSelf` (value: `"UserWriteSelf"`)





### Enum: RoleEnum


* `Admin` (value: `"Admin"`)

* `OrgController` (value: `"OrgController"`)

* `OrgMember` (value: `"OrgMember"`)

* `OrgOwner` (value: `"OrgOwner"`)

* `Super` (value: `"Super"`)

* `User` (value: `"User"`)




### CurrentUserUser

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**createdAt** | **Date** |  | 
**freeLimit** | **Number** |  | 
**id** | **String** |  | 
**isActive** | **Boolean** |  | 
**remainingFreeEmoji** | **Number** |  | 
**role** | **String** |  | 
**updatedAt** | **Date** |  | 
**alternateId** | **String** |  | [optional] 
**deactivatedAt** | **Date** |  | [optional] 
**email** | **String** |  | [optional] 
**firstName** | **String** |  | [optional] 
**lastName** | **String** |  | [optional] 
**source** | **String** |  | [optional] 
**twoFactorAuth** | **Object** |  | [optional] 



### Enum: RoleEnum


* `Admin` (value: `"Admin"`)

* `OrgController` (value: `"OrgController"`)

* `OrgMember` (value: `"OrgMember"`)

* `OrgOwner` (value: `"OrgOwner"`)

* `Super` (value: `"Super"`)

* `User` (value: `"User"`)




### DisplayUser

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**createdAt** | **Date** |  | 
**freeLimit** | **Number** |  | 
**id** | **String** |  | 
**isActive** | **Boolean** |  | 
**remainingFreeEmoji** | **Number** |  | 
**role** | **String** |  | 
**updatedAt** | **Date** |  | 
**alternateId** | **String** |  | [optional] 
**deactivatedAt** | **Date** |  | [optional] 
**email** | **String** |  | [optional] 
**firstName** | **String** |  | [optional] 
**lastName** | **String** |  | [optional] 
**source** | **String** |  | [optional] 
**twoFactorAuth** | **Object** |  | [optional] 



### Enum: RoleEnum


* `Admin` (value: `"Admin"`)

* `OrgController` (value: `"OrgController"`)

* `OrgMember` (value: `"OrgMember"`)

* `OrgOwner` (value: `"OrgOwner"`)

* `Super` (value: `"Super"`)

* `User` (value: `"User"`)




### EditRequest

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**_delete** | **[File]** | Optional: hashes of records to delete | [optional] 
**insert** | [**[EditRequestInsert]**](#EditRequestInsert) | Optional: list of records to add | [optional] 
**merkleRoot** | **File** | Optional: merkle root (use WASM to generate) | [optional] 
**signature** | **File** | Optional: signature (use WASM to generate) | [optional] 


### EditRequestInsert

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**data** | **String** | Category data in text format | 
**tag** | **String** | Category ID as a hex number | 


### LoginRequest

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**password** | **String** | Required: Password | 
**alternateId** | **String** | Alternate identifier | [optional] 
**email** | **String** | Email | [optional] 
**gRecaptchaResponse** | **String** | Response from google Recaptcha | [optional] 


### LookupResponse

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**response** | [**LookupResponseResponse**](#LookupResponseResponse) |  | 
**viewsPastMonth** | **Number** | Number of times emoji viewed during past month | 


### LookupResponseResponse

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**status** | **Boolean** | Response status.  If true, the requested data will be in the result field, null otherwise | 
**error** | [**LookupResponseResponseError**](#LookupResponseResponseError) |  | [optional] 
**result** | [**[LookupResponseResponseResult]**](#LookupResponseResponseResult) | Records associated with EmojiID | [optional] 


### LookupResponseResponseError

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**code** | **String** | Error code | 
**reason** | **String** |  | 


### LookupResponseResponseResult

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**data** | **String** | Category data in text or hex encoded formats | 
**hash** | **File** | Hash identifies record, can be used to delete records | 
**tag** | **String** | Category as a hex string number | 


### MagicLinkLoginRequest

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**email** | **String** | Email | [optional] 
**gRecaptchaResponse** | **String** | Response from google Recaptcha | [optional] 
**userId** | **String** | User ID | [optional] 


### NewUserInterestParameters

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**eid** | **String** | EmojiID to express interest in | 


### ProxyCallParameters

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**service** | **String** | &#x60;ProxyService&#x60; type | 
**data** | **String** | The data to pass through to the proxied service | [optional] 



### Enum: ServiceEnum


* `Microlink` (value: `"Microlink"`)

* `RestPack` (value: `"RestPack"`)

* `Echo` (value: `"Echo"`)

* `Scraper` (value: `"Scraper"`)




### ProxyResult

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**value** | **String** | The response from the proxied service as a String | 


### RefreshRequest

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**refreshToken** | **String** | Refresh token obtained from login request | 


### RegisterUserParameters

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**alternateId** | **String** | Alternate identifier | [optional] 
**email** | **String** | Email address | [optional] 
**firstName** | **String** | Optional: first name | [optional] 
**gRecaptchaResponse** | **String** | Response from google Recaptcha | [optional] 
**lastName** | **String** | Optional: last name | [optional] 
**password** | **String** | Optional: password | [optional] 
**source** | **String** | Required when registering with &#x60;alternate_id&#x60;, source for non custodial user | [optional] 


### SearchResult

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**alternates** | [**[SearchResultAlternates]**](#SearchResultAlternates) | Alternative Emoji IDs | 
**result** | [**SearchResultResult**](#SearchResultResult) |  | 


### SearchResultAlternates

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**availability** | **String** | The availability state of this emoji | 
**available** | **Boolean** | Whether the EID is available for purchase | 
**discountedPrice** | **Number** | Pricing in US cents, e.g. 1024 is 10.24 USD.  Discounted price is 0 if the emoji is not available | 
**eid** | **String** | Emoji ID in percent url-encoded form | 
**price** | **Number** | Pricing in US cents, e.g. 1024 is 10.24 USD.  Price is 0 if the emoji is not available | 
**viewsPastMonth** | **Number** | Total lookups using this API, if someone is viewing this EID  using their own self hosted node, it will not be counted here | 



### Enum: AvailabilityEnum


* `Available` (value: `"Available"`)

* `Taken` (value: `"Taken"`)

* `InCart` (value: `"InCart"`)

* `ComingSoon` (value: `"ComingSoon"`)

* `NoPrice` (value: `"NoPrice"`)




### SearchResultResult

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**availability** | **String** | The availability state of this emoji | 
**available** | **Boolean** | Whether the EID is available for purchase | 
**discountedPrice** | **Number** | Pricing in US cents, e.g. 1024 is 10.24 USD.  Discounted price is 0 if the emoji is not available | 
**eid** | **String** | Emoji ID in percent url-encoded form | 
**price** | **Number** | Pricing in US cents, e.g. 1024 is 10.24 USD.  Price is 0 if the emoji is not available | 
**viewsPastMonth** | **Number** | Total lookups using this API, if someone is viewing this EID  using their own self hosted node, it will not be counted here | 



### Enum: AvailabilityEnum


* `Available` (value: `"Available"`)

* `Taken` (value: `"Taken"`)

* `InCart` (value: `"InCart"`)

* `ComingSoon` (value: `"ComingSoon"`)

* `NoPrice` (value: `"NoPrice"`)




### SuccessResponse

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**message** | **String** |  | 


### TokenResponse

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**accessToken** | **String** | Access token | 
**refreshToken** | **String** | Refresh token,  only required for 2FA (???) | 
**requires2fa** | **Object** | Whether has 2FA enabled or not | [optional] 


### UpdateCartRequest

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**items** | [**[UpdateCartRequestItems]**](#UpdateCartRequestItems) | New items to add to cart | 
**trackingData** | **Object** | Tracking data | [optional] 


### UpdateCartRequestItems

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**eid** | **String** | EmojiID to buy | 
**redemptionCode** | **String** | Redemption Code if applicable | [optional] 


### UpdateUserParameters

#### Properties

Name | Type | Description | Notes
------------ | ------------- | ------------- | -------------
**email** | **String** | Optional: Email | [optional] 
**firstName** | **String** | Optional: First name | [optional] 
**lastName** | **String** | Optional: Last name | [optional] 





## Documentation for Authorization



### JWT


- **Type**: API key
- **API key parameter name**: Authorization
- **Location**: HTTP header



### apiKey


- **Type**: API key
- **API key parameter name**: Authorization
- **Location**: HTTP header

